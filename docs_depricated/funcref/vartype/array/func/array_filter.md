# array_filter

[Документация на php.net](https://www.php.net/manual/ru/function.array-filter.php)

---

[Главная](../../../../../README.md) / [Справочник функций](../../../../funcref.md) /
[Модули для работы с переменными и типами](../../../vartype.md) / [Массивы](../../array.md) /
[Функции для работы с массивами](../func.md) / array_filter

---

`array_filter` — Фильтрует элементы массива через callback-функцию

### Описание

```ts
array_filter(array: Array|Object, callback: Function|null = null, mode: Number = 0): Object;
```

Функция перебирает массив `array` и передаёт каждое значение в callback-функцию. Текущее значение
массива `array` копируется в массив `(array)` с результатами, если callback-функция возвращает
`true`.

Функция сохраняет ключи входного индексного массива `array`, поэтому после фильтрации иногда
появляются пропуски. Массив `(array)` с результатами переиндексируют функцией `array_values()`.

### Список параметров

-   `array`

    Массив, который требуется перебрать.

-   `callback`

    Callback-функция.

    Функция удалит пустые элементы входного массива `array`, если callback-функцию не передали.
    Описание языковой конструкции [empty()](../../var/func/empty.md) рассказывает, как библиотека
    определяет пустые элементы.

-   `mode`

    Флаг определяет, какие аргументы передавать в callback-функцию:

    -   `ARRAY_FILTER_USE_KEY` — вместо значения массива как единственного аргумента
        callback-функции передавать только ключ массива.
    -   `ARRAY_FILTER_USE_BOTH` — вместо значения массива как единственного аргумента
        callback-функции передавать и ключ, и значение массива.

    Значение по умолчанию равно `0`, с которым в callback-функцию передаётся только значение
    массива.

### Возвращаемые значения

Функция возвращает отфильтрованный массив.

### Примеры

**Пример #1 Пример использования array_values()**

```js
function odd(value) {
    // Функция возвращает информацию о том, нечётно ли входное целое число
    return value % 2 === 1;
}

function even(value) {
    // Функция возвращает информацию о том, чётно ли входное целое число
    return value % 2 === 0;
}

const array1 = { a: 1, b: 2, c: 3, d: 4, e: 5 };
const array2 = [6, 7, 8, 9, 10, 11, 12];

console.log('Нечётные:');
print_r(array_filter(array1, odd));

console.log('Чётные:');
print_r(array_filter(array2, even));
```

Результат выполнения приведённого примера:

    Нечётные:
    Array
    (
        [a] => 1
        [c] => 3
        [e] => 5
    )

    Чётные:
    Array
    (
        [0] => 6
        [2] => 8
        [4] => 10
        [6] => 12
    )

**Пример #2 Пример вызова функции array_filter() без аргумента callback**

```js
const entry = ['foo', false, -1, null, '', '0', 0];

print_r(array_filter(entry));
```

Результат выполнения приведённого примера:

    Array
    (
        [0] => foo
        [2] => -1
    )

**Пример #3 Пример вызова функции array_filter() с флагом mode**

```js
const array = { a: 1, b: 2, c: 3, d: 4, e: 5 };

var_dump(array_filter(array, key => key === 'b', ARRAY_FILTER_USE_KEY));

var_dump(array_filter(array, (value, key) => key === 'b' || value === 4, ARRAY_FILTER_USE_BOTH));
```

Результат выполнения приведённого примера:

    array(1) {
        ["b"]=>
        int(2)
    }

    array(2) {
        ["b"]=>
        int(2)
        ["d"]=>
        int(4)
    }
